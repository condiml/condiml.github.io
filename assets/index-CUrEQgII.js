(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();let d=0,l=0,a=window.innerWidth,c=window.innerHeight;const $=!0,L=document.querySelectorAll(".shape"),P=document.querySelector(".profile-avatar");let w=document.querySelectorAll(".link-card");const D=.1;let v=0,h=0,O=0,Y=0,g=new Set,X=new Map,q=0;const z=30,C=1e3/z;function F(){try{const e=localStorage.getItem("uiguy_motion_enabled");return e===null?null:e==="true"}catch(e){return console.warn("Could not read motion preference from localStorage:",e),null}}function x(e){d=e.clientX||e.touches&&e.touches[0].clientX||a/2,l=e.clientY||e.touches&&e.touches[0].clientY||c/2}function A(e){if(Date.now()-E>100){const t=e.beta||0,r=e.gamma||0,o=Math.max(-30,Math.min(30,r))/30,n=Math.max(-30,Math.min(30,t))/30;d=a/2+o*(a/2),l=c/2+n*(c/2),Y=Date.now()}}function N(){typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(e=>{e==="granted"?(window.addEventListener("deviceorientation",A),p("Device orientation active!")):p("Permission denied. Using fallback animation.","warning")}).catch(e=>{console.error("Error requesting device orientation permission:",e),p("Could not access orientation. Using fallback.","error")}):window.DeviceOrientationEvent?window.addEventListener("deviceorientation",A):p("Your device does not support orientation tracking.","error")}function p(e,t="info"){const r=document.querySelector(".motion-indicator");r&&r.remove();const o=document.createElement("div");o.className=`motion-indicator motion-indicator-${t}`,o.innerHTML=`
        <div class="motion-indicator-inner">
            <div class="motion-indicator-dot"></div>
            <div class="motion-indicator-text">${e}</div>
        </div>
    `,document.body.appendChild(o),setTimeout(()=>{o.classList.add("motion-indicator-fade"),setTimeout(()=>{o.remove()},1e3)},5e3)}function I(){return typeof window.orientation<"u"||navigator.userAgent.indexOf("IEMobile")!==-1||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}let E=0;function T(){const e=Date.now();if(e-E>1e3&&e-Y>1e3&&$){O+=.01;const t=Math.min(a,c)*.4;d=a/2+Math.cos(O)*t,l=c/2+Math.sin(O)*t}}document.addEventListener("mousemove",e=>{x(e),E=Date.now()});document.addEventListener("touchmove",e=>{x(e),E=Date.now()});window.addEventListener("resize",()=>{a=window.innerWidth,c=window.innerHeight});function y(){w&&w.forEach(e=>{const t=e.getBoundingClientRect();X.set(e,{left:t.left,top:t.top,width:t.width,height:t.height,centerX:t.left+t.width/2,centerY:t.top+t.height/2})})}function b(e){if(e&&e-q<C){requestAnimationFrame(b);return}q=e||0,T(),v+=(d-v)*D,h+=(l-h)*D;const t=(v/a-.5)*2,r=(h/c-.5)*2;if(L&&L.forEach((o,n)=>{const i=.2+n*.1,s=t*i*400,u=r*i*400,f=t*r*(10+n*5),m=1+Math.abs(t*r)*.15;o.style.transform=`translate(${s}px, ${u}px) rotate(${f}deg) scale(${m})`;const M=.6+Math.abs(t*r)*.4;o.style.opacity=M}),P){const o=r*-10,n=t*10;P.style.transform=`perspective(1000px) rotateX(${o}deg) rotateY(${n}deg)`}g.size>0&&g.forEach(o=>{const n=X.get(o);if(!n)return;const i=v-n.centerX,s=h-n.centerY,u=Math.sqrt(i*i+s*s),f=500;if(u<f){o.classList.add("animate");const m=1-u/f,M=s*.02*m,S=-i*.02*m;o.style.transform=`perspective(1000px) rotateX(${M}deg) rotateY(${S}deg) translateZ(15px)`,o.style.transition="transform 0.1s"}else o.classList.remove("animate"),o.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0)",o.style.transition="transform 0.5s"}),requestAnimationFrame(b)}function H(){const e=F();if(e!==null){e&&I()&&N();return}}document.addEventListener("DOMContentLoaded",()=>{d=a/2,l=c/2,b(),H(),I()&&typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission!="function"&&window.addEventListener("deviceorientation",A);const e=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting?g.add(r.target):g.delete(r.target)}),y()},{rootMargin:"300px"});w=document.querySelectorAll(".link-card"),w.forEach(t=>e.observe(t)),y()});window.addEventListener("scroll",()=>{window.requestAnimationFrame(y)});window.addEventListener("resize",()=>{a=window.innerWidth,c=window.innerHeight,y()});
